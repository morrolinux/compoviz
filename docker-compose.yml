# For local development and testing of the Docker image
# See compose/docker-compose.yml for production deployment using pre-built image

name: compoviz

services:
  dev:
    build:
      context: .
      dockerfile: Dockerfile
    container_name: compoviz-dev
    restart: unless-stopped
    ports:
      - "8080:80"
    labels:
      # Runtipi-compatible labels
      runtipi.managed: "true"
      traefik.enable: "true"
      traefik.http.routers.compoviz-dev.rule: PathPrefix("/")
      traefik.http.services.compoviz-dev.loadbalancer.server.port: "80"